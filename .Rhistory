getwd()
cdir <- getwd()
cdir <- getwd()
odir <- paste0(getwd(),"/output")
library(dplyr)
library(gdxrrw)
library(stringr)
library(patchwork)
library(readr)
cdir <- getwd()
odir <- paste0(cdir,"/output")
ddir <- paste0(cdir,"/data")
date <- "2208021338"
scen_mat <- read_csv(paste0(ddir,"/",date,"/main/scenario_table.csv"))
View(scen_mat)
odir <- paste0(cdir,"/output/",date,"/")
ddir <- paste0(cdir,"/data/",date,"/main")
odir <- paste0(cdir,"/output/",date)
ddir <- paste0(cdir,"/data/",date,"/main")
scenario_name
scen_mat <- read_csv(paste0(ddir,"/scenario_table.csv"))
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx")
View(df)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"Sr")
df <- rgdx.set(paste0(ddir,"/merged_output.gdx"),"Sr")
region_all <- rgdx.set(paste0(ddir,"/merged_output.gdx"),"Sr")
View(df)
View(region_all)
scen_mat$Status[Scenario]
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Sy',Value='data_all') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
library(tidyr)
scen_mat <- read_csv(paste0(ddir,"/scenario_table.csv"))
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Sy',Value='data_all') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
library(tidyverse)
View(df)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Sy',Value='data_all') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='data_all') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx"
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx")
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='data_all') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx")
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value) %>%
pivot_longer(cols=-(Scenario,Region,Variable))
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value) %>%
pivot_longer(cols=-(Scenario,Region,Variable),names_to="Year",values_to="Value")
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value")
year_all <- seq(2005,2100,by=5)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value,values_fill=0) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value",values)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
pivot_wider(names_from=Year,values_from=Value,values_fill=0) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value")
View(df)
View(df)
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
pivot_wider(names_from=Year,values_from=Value,values_fill=0) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value") %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
filter(Region%in%reg_all)
reg_all <- rgdx.set(paste0(ddir,"/merged_output.gdx"),"Sr")
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
pivot_wider(names_from=Year,values_from=Value,values_fill=0) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value") %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
filter(Region%in%reg_in)
reg_in <- "World"
df <- rgdx.param(paste0(ddir,"/merged_output.gdx"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
pivot_wider(names_from=Year,values_from=Value,values_fill=0) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value") %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
filter(Region%in%reg_in)
ddir <- paste0(cdir,"/data/",date,"/main")
gdir <- "C:/GAMS/win64/26.1"
igdx(gdir)
pdir <- paste0(cdir,"/prog")
source(paste0(pdir,"/function.R"))
# Make output directory
dircreate(paste0(odir,"general"))
# Make output directory
dir.create(paste0(odir,"general"))
# Make output
dir.create(paste0(odir,"/general"))
# Make output
dir.create(odir)
dir.create(paste0(odir,"/general"))
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
# Make input/output directory
dir.create(ddir)
odir <- paste(cdir,"output",project,date,sep="/")
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
# Make input/output directory
dir.create(odir,recursive=T)
dir.create(ddir,recursive=T)
dir.create(paste(odir,"general",sep="/"))
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
# General information
date <- "2208021338"
project <- "model_expansion"
cdir <- getwd()
odir <- paste(cdir,"output",project,date,sep="/")
ddir <- paste(cdir,"data",project,date,"main",sep="/")
pdir <- paste(cdir,"prog",sep="/")
gdir <- "C:/GAMS/win64/26.1"
# Make input/output directory
if(!dir.exists(odir)){dir.create(odir,recursive=T)}
if(!dir.exists(ddir)){dir.create(ddir,recursive=T)}
if(!dir.exists(paste(odir,"general",sep="/"))){dir.create(ddir,recursive=T)}
reg_in <- "World"
reg_all <- rgdx.set(paste(ddir,"merged_output.gdx",sep="/"),"Sr")
year_all <- seq(2005,2100,by=5)
igdx(gdir)
# Import model output data
df <- rgdx.param(paste(ddir,"merged_output.gdx",sep="/"),"iamc_gdx") %>%
rename(Scenario='Sc',Region='Sr',Variable='Sv',Year='Y5',Value='iamc_gdx') %>%
pivot_wider(names_from=Year,values_from=Value,values_fill=0) %>%
pivot_longer(cols=-c(Scenario,Region,Variable),names_to="Year",values_to="Value") %>%
mutate(Year=as.numeric(as.character(Year)),Region=as.character(Region),Scenario=as.character(Scenario)) %>%
filter(Region%in%reg_in)
# Import scenario data
scen_mat <- read_csv(paste(ddir,"scenario_table.csv",sep="/"))
# Load sub-programs
source(paste(pdir,"database.R",sep="/"))
# Load sub-programs
source(paste(pdir,"dataframe.R",sep="/"))
source(paste(pdir,"function.R",sep="/"))
# Primary energy
fplot_area(var=df_var, totvar='Prm_Ene', name_file='PES', ylabel='Primary energy supply (EJ/yr)', cpt='Primary Energy', w=200, h=120)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
# Primary energy
fplot_area(var=prmene, totvar='Prm_Ene', name_file='PES', ylabel='Primary energy supply (EJ/yr)', cpt='Primary Energy', w=200, h=120)
plt <- list()
# Primary energy
fplot_area(var=prmene, totvar='Prm_Ene', name_file='PES', ylabel='Primary energy supply (EJ/yr)', cpt='Primary Energy', w=200, h=120)
ggsave(filename=paste(odir,"general",name_file,".png",sep="/"), plot=p, width=w, height=h, units='mm', dpi=300)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/function.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
# Secondary energy
fplot_area(var=secele, totvar='Sec_Ene_Ele', name_file='ELE', ylabel='Electricity generation (EJ/yr)', cpt='Power generation', w=200, h=120)
fplot_area(var=sechyd, totvar='Sec_Ene_Hyd',name_file='HYD',ylabel='Hydrogen generation (EJ/yr)',cpt='Hydrogen generation', w=200, h=120)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
dev.off()
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
fplot_area(var=invadd, totvar='Inv_Add', name_file='Cost_INV', ylabel='billion US$/yr', cpt='Investment Additions', w=200, h=120)
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
