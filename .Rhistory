df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(BTL=BTL/10.09152)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(BTL=BTL8760*3.6/1000*0.8*0.4)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(BTL=BTL/8760/3.6*1000/0.8/0.4)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
pivot_longer(cols=c(1:5),names_to=Variable,values_to = Variable)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS)
row.names(df) <- c("dev_inp","dev_out","dev_inv","dev_o_m")
df <- df %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS)
row.names(df) <- c("dev_inp","dev_out","dev_inv","dev_o_m")
df <- df %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS)
row.names(df) <- c("dev_inp","dev_out","dev_inv","dev_o_m")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m"))
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp) %>%
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp) %>%
pivot_longer(cols=-c(Variable),names_from="Index",values_from="Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp) %>%
pivot_longer(cols=-c(Variable),names_to="Index",values_to="Value")
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp) %>%
pivot_longer(cols=-c(Variable),names_to="Index",values_to="Value") %>%
filter(Index==inpinv)
df <- data.frame("CTL"=CTL,"CTLwCCS"=CTLwCCS,"BTL"=BTL,"OTL"=OTL,"OTLwCCS"=OTLwCCS) %>%
mutate(Index=c("dev_inp","dev_out","dev_inv","dev_o_m")) %>%
pivot_longer(cols=c(1:5),names_to="Variable",values_to = "Value") %>%
pivot_wider(names_from = Index, values_from = Value) %>%
mutate(inpinv=dev_inv/dev_inp) %>%
pivot_longer(cols=-c(Variable),names_to="Index",values_to="Value") %>%
filter(Index=="inpinv")
pm <- {1-(1-(1+0.1)^-30)}
pm <- 0.1/{1-(1-(1+0.1)^-30)}
pm
pm <- 0.1/{1-(1+0.1)^-30}
pm
df <- c(0:29)
df <- dataframe(c(0:29))
df <- data.frame(c(0:29))
df <- data.frame(c(0:29))
View(df)
df <- data.frame(Year=c(0:29))
df <- data.frame(Year=c(0:29))
df <- data.frame(Year=c(0:29)) %>%
mutate(ef=0.1/{1-(1+0.1)^-Year})
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=)
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*(0.1*exp(30*log(1+0.1))/exp(30*log(1+0.1))-1))
inp <- 1
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*(0.1*exp(30*log(1+0.1))/exp(30*log(1+0.1))-1))
inp <- 100
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*(0.1*exp(30*log(1+0.1))/exp(30*log(1+0.1))-1))
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1))
inp <- 81400
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1))
inp <- 81.4
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1))
inp <- 4070
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1))
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1)/5)
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1)/5)
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1))
pm
inp <- 81400
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1))
df <- data.frame(Year=c(1:30)) %>%
mutate(Value=inp*0.1*exp(30*log(1+0.1))/(exp(30*log(1+0.1))-1)*30)
(4070-295-1978)/4070
(4070-295-1978)/4070*15
(4070-295-1978)/4070*15.7
(4070-295-1978)/4070*5.0
(4070-295-1978)/4070*12.2
(4070-295-1978)/4070*10.5
(4070-295-1978)/4070*10.5
4070 - 435 -420
3215-1978-295
3215-1978-295+(435+420)*942/3215
(3215-1978-295+(435+420)*942/3215)/4070*15.7
exp(30*log(1.1))
exp(30*log(1.1))/(exp(30*log(1.1))-1)*0.1
15/0.1060
81.4*1000/(159*365*0.7*0.925*41.868/1000)
15000/7300*94.6*0.119/0.194*0.9
81400/(159*365*0.7*0.925*41.868/1000)+50
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene"))
View(check_emi)
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem"))
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem"))
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com")
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem")
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest()
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Scenario,Year) %>%
nest()
View(check_emi[[3]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(Scenario,Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Scenario,Year) %>%
nest()
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(Scenario,Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Scenario,Year) %>%
nest()
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Scenario,Year) %>%
nest()
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Scenario,Year) %>%
nest()
check_emi <- df_all %>%
filter(Scenario=="Baseline")
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest()
View(check_emi[[2]][[1]])
View(check_emi[[2]][[1]])
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
map(data,~rbind(Total=sum(Value)))
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
map(data,~rbind(.x,Total=sum(Value)))
View(check_emi[[2]][[1]])
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest()
View(check_emi[[2]][[1]])
mutate(data=map(data,~rbind(.,c("Total",sum(.$Value))))
nest() %>%
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")4) %>%
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.,c("Total",sum(.$Value)))))
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.,c(1,sum(.$Value)))))
View(check_emi[[2]][[1]])
View(emisec)
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c(1,sum(.$Value)))))
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c(sum(.x$Value),sum(.x$Value)))))
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~as.character(.x$Variable))) %>%
mutate(data=map(data,~rbind(.x,c(sum(.x$Value),sum(.x$Value)))))
mutate(data=map(data,~mutate(.x$Variable=as.character(.x$Variable))) %>%
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~mutate(.x$Variable=as.character(.x$Variable)))) %>%
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~mutate(.x$Variable=as.character(.x$Variable))))
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~mutate(.x,.x$Variable=as.character(.x$Variable)))) %>%
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c(sum(.x$Value),sum(.x$Value)))))
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.numeric(Variable)) %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c(sum(.x$Value),sum(.x$Value)))))
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c(sum(.x$Value),sum(.x$Value)))))
View(check_emi[[2]][[1]])
mutate(data=map(data,~rbind(.x,c("Total",sum(.x$Value))))
check_emi <- df_all %>%
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c("Total",sum(.x$Value)))))
View(check_emi[[2]][[1]])
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c("Total",sum(.x$Value))))) %>%
unnest()
check_emi <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year) %>%
nest() %>%
mutate(data=map(data,~rbind(.x,c("Total",sum(.x$Value))))) %>%
unnest(data)
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year)
View(check_emi2)
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year) %>%
rbind(c("Total",sum(Value)))
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year) %>%
rbind(c("Total",sum(.$Value)))
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year,Variable) %>%
rbind(c("Total",sum(.$Value)))
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year,Variable) %>%
rbind(c(sum(.$Value)))
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year,Variable) %>%
rbind(c(sum(Value)))
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year,Variable) %>%
rbind(sum(Value))
check_emi2 <- df_all %>%
filter(Scenario=="Baseline") %>%
select(-Scenario,-Region) %>%
filter(str_detect(Variable,"Emi_CO2_Ene_Dem")) %>%
filter(Variable!="Emi_CO2_Ene_Dem_Com",Variable!="Emi_CO2_Ene_Dem_Res",
Variable!="Emi_CO2_Ene_Dem_Tra",Variable!="Emi_CO2_Ene_Dem_Res_and_Com") %>%
filter(Variable!="Emi_CO2_Ene_Dem") %>%
mutate(Variable=as.character(Variable)) %>%
group_by(Year,Variable) %>%
rbind(sum(.x$Value))
source("C:/R/AIMTechRplot/prog/main.R", echo=TRUE)
source("C:/R/AIMTechRplot/tools/AR6/prog/inc_prog/func_AR6.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/inc_prog/general.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/others/220818_BindBaseline.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/inc_prog/general.R", echo=TRUE)
source("C:/R/AIMTechRplot/prog/inc_prog/general.R", echo=TRUE)
